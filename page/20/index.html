<!DOCTYPE html>
<html lang="en-us">
    
<head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.49" />

    

<title>Midnight Programmer</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Midnight Programmer"/>
<meta name="twitter:description" content="Programming For Fun"/>

<meta property="og:title" content="Midnight Programmer" />
<meta property="og:description" content="Programming For Fun" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://prashantkhandelwal.github.io/" />
<meta property="og:updated_time" content="2010-09-25T22:21:00&#43;00:00"/><meta property="og:site_name" content="Midnight Programmer" />


    


<link rel="stylesheet" href="/css/hyde-hyde.css">
<link rel="stylesheet" href="/css/print.css" media="print">


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

<link href="https://prashantkhandelwal.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Midnight Programmer" />
<link href="https://prashantkhandelwal.github.io/index.xml" rel="feed" type="application/rss+xml" title="Midnight Programmer" />


</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://prashantkhandelwal.github.io/">Midnight Programmer</a>
      </span>
      
      
      
      <div class="author-image">
        <img src="https://prashantkhandelwal.github.io//img/prashantk.jpg" alt="Author Image" class="img--circle img--headshot element--center"> 
      </div>
      
      <p class="site__description">
         Programming For Fun 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Midnight Programmer</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/archive/"><i class='fa fa-road'></i>
						<span>Archive</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/top-posts/"><i class='fa fa-star fa-fw'></i>
						<span>Top Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/contact/"><i class='fa fa-envelope fa-fw'></i>
						<span>Contact</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	<a href="https://facebook.com/khandelwal.p" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/prashantkhandelwal" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="http://feeds.feedburner.com/MidnightProgrammer" rel="me"><i class="fa fa-rss fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://instagram.com/prashantkhandelwal" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/khandelwalprashant" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    <p class="copyright">
      &copy; 2019 Pashant Khandelwal
      <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/2.5/in/"><img style="border-width: 0;" src="https://i.creativecommons.org/l/by-nc-sa/2.5/in/88x31.png" alt="Creative Commons License" class="thinglinkFiltered"></a>
      
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            
<div class="post-list">
  
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/extending-openid-implementation-with-aspnet-user-information-roles-and-membership/">Extending OpenID Implementation With ASP.NET: User Information/Roles and Membership</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Sep 25, 2010
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/api">API</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net">ASP.NET</a>
      
      
      
      
    </span>
    <p>Last month I have blogged on how you can integrate OpenID login support in your ASP.NET aplication. Some of the reader requested me that it would be better if I could show how you can implement membership and roles with OpenID authentication. It doesn&rsquo;t seems easy in the first place, because you will require a bit more informaton from the user like his name and e-mail address. So, what I am trying to show you here is how you can gather information of the user who has logged in with OpenID and then you can use that information to set roles and membership for your website. I am just extending the old sample project from my previous post to show you how you can get some of the basic information of the user including their e-mail address.</p>

<p>I assume you have downloaded the complete solution from my previous post with OpenID login support, <a href="http://midnightprogrammer.net/file.axd?file=2010%2f8%2fDOTNETOAUTH.zip">download here</a> if you haven&rsquo;t yet. There is nothing new to be added in the application, instead we just need to change some properties of the OpenID control we have used. Click the control and press <code>F4</code> to get the properties up. Set the properties to <code>Request</code> to make sure that whenever a user sign-in with OpenID the API also makes a request to the service provider to get the information of the user signing in. I have request some of the basic information of the user by making them <code>Request</code>. It all depends on the author of the code what information he wants to see/require when the user gets logged in.</p>

<p><img src="/images/openid-properties.png" alt="OpenID properties" /></p>

<p>Now as you have set the properties, it&rsquo;s time to make a request to the provider and get the infromation. You need to do something special to get the details, sign-in as normally you would have done, but notice while re-directing the page URL will be something like this (only for a while):</p>

<pre class="brush:plain">
.............&openid.sreg.required=&openid.sreg.optional=nickname%2Cfullname%2Cdob%2Cgender%2Ccountry
</pre>

<p>Notice the last few options in the query string is requesting the parameters we have &ldquo;Requested&rdquo;. But you should also know that the values will be <code>null</code> if the user has not filled up his <code>Persona (Personal Details)</code>. If you try to fetch the details of the user, you will get a <code>null</code> value. So, it&rsquo;s pretty necessary that the user who has logged in using the OpenID should have his personal details filled up at the provider&rsquo;s end. This is how my personal details look like at OpenID (website) login.</p>

<p><img src="/images/openid-persona.png" alt="OpenID persona" /></p>

<p>Personas are actually the information of the user which will be delivered to the site or application where the user has logged in using OpenID. You can add/modify/delete a personas. Once you have the persona of the logged in user you can:</p>

<ul>
<li>Set the OpenID control to request the details of the users instead of providing the user to fill out a long registration form.</li>
<li>Save the values to the database for future use.</li>
<li>Use the information for setting Roles and Membership for your application.</li>
</ul>

<p>I&rsquo;ve already demonstrate in the above steps on how to set the OpenID user control to request the user details or personas.</p>

<p><strong>What else I need to do</strong></p>

<p>In Visual Studio, select the OpenID control and press <code>F4</code> to get the properties. Under method section double-click the <code>LoggedIn</code> method (The method name describes itself).</p>

<p><img src="/images/openid-properties.png" alt="OpenID properties" /></p>

<p>In this method, read the response and set it to the session variable. Give a name to the sesison variable.</p>

<pre class="brush:csharp">
protected void OpenIdLogin1_LoggedIn(object sender, DotNetOpenAuth.OpenId.RelyingParty.OpenIdEventArgs e)
{
        Session["OpenID"] = e.Response;
}
</pre>

<p>When the user is successfully authenticated by the provider, user is re-directed to the default home page. Therefore, we need to handle the response on the home page. Add these two namespaces on the page code-behind.</p>

<pre class="brush:csharp">
using DotNetOpenAuth.OpenId.RelyingParty;
using DotNetOpenAuth.OpenId.Extensions.SimpleRegistration;
</pre>

<p>I am using the page load method so as to get the details and display it front of the user, you can also set the same details to fill up a registration form. To read the response from the session variable use the <code>IAuthenticationResponse</code> to read store the session value and then read it with <code>GetResponse&lt;ClaimResponse&gt;</code> method. Below is the complete code for your default.aspx page or the page you want the user to be re-directed. I have store the values in the public variables as I want to show the user details on the default page.</p>

<pre class="brush:csharp">
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using DotNetOpenAuth.OpenId.RelyingParty;
using DotNetOpenAuth.OpenId.Extensions.SimpleRegistration;
namespace DOTNETOAUTH
{
    public partial class _Default : System.Web.UI.Page    
    {
        IAuthenticationResponse OResponse;
        public string UserName = string.Empty;
        public string Gender = "No Gender Specified";
        public string Country = string.Empty;
        public string Nick = string.Empty;
        public string Bday = string.Empty;
 
        protected void Page_Load(object sender, EventArgs e)
        {
            try
            {
                OResponse = (IAuthenticationResponse)Session["OpenID"];
                var details = OResponse.GetExtension&lt;ClaimsResponse&gt;();
                UserName = details.FullName;
                //email = details.Email;
                Gender = details.Gender.ToString();
                Country = details.Country;
                Nick = details.Nickname;
                Bday = details.BirthDate.ToString();
            }
            catch { }
        }
    }
}
</pre>

<p>If any of the above values are not present in the user persona , it will result in an error, so make sure you have handle the exceptions properly. This is it, once you have the details you can use to store the details in the database, set roles and membership to the user logins. I have skip the part to set user roles and membership, once we have the user information we can use that information to set roles or just save the information in the database.</p>

<p><img src="/images/openid-webapp.png" alt="OpenID web app result" /></p>

<p><strong>Download: <a href="/files/DOTNETOAUTH - UserData.zip">DOTNETOAUTH - UserData.zip (552.20 kb)</a></strong></p>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/upload-multiple-files-with-jquery-uploadify/">Upload Multiple Files With jQuery &#39;Uploadify&#39;</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Sep 12, 2010
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/api">API</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net">ASP.NET</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/jquery">JQUERY</a>
      
      
      
      
    </span>
    <p>I have found many web developers seeking for help to upload a file in AJAX style, I am not a web developer but among the list of people who used to search the web for some control, way or a workaround to do this. I found a .NET control to do this, but like all good controls&hellip;.it wasn&rsquo;t free. But the control worth it.</p>

<p>But now we have an excellent open source plugin called <a href="http://www.uploadify.com/">Uploadify</a>. I have been using it for sometime and thought I should now blog and spread a word about it. To implement in your ASP.NET project is simple. Download the latest version of Uploadify from its official site <a href="http://www.uploadify.com/download/">here</a>.</p>

<p>Take a look at the downloaded files. Actually, I need NOT to explain it again to you because the download itself has a PDF file which makes it really simple to understand the working and usage of the plugin. If you need to take a look how this plug-in works, then the  best place to look at the demo page at the uploadify page <a href="http://www.uploadify.com/download">here</a>.</p>

<p>I also compiled a small apllication with ASP.NET to see it in action with ASP.NET</p>

<p><strong>NOTE: The code below I have uploaded is not written by me, I have just compiled a bunch of files under one hood to get it working.</strong></p>

<p><strong>Download: <a href="/files/JqueryUploadify.zip">JqueryUploadify.zip (229.05 kb)</a></strong></p>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/razor-view-engine-in-aspnet-mvc-3/">RAZOR: View Engine In ASP.NET MVC 3</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Sep 6, 2010
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/asp.net-mvc">ASP.NET MVC</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/visual-studio">VISUAL STUDIO</a>
      
      
      
      
    </span>
    <p>A new view engine is introduced in ASP.NET MVC 3 called RAZOR. You can <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=cb42f741-8fb1-4f43-a5fa-812096f8d1e8&amp;displaylang=en#filelist">download Preview 1</a> from Microsoft&rsquo;s download center and get it running on your machine to check the new features in MVC 3. Just in case if you are thinking that installing MVC 3 will mess your current MVC 2 installation&hellip;.No, it won&rsquo;t. I came across a <a href="http://channel9.msdn.com/shows/Web+Camps+TV/Web-Camps-TV-1-ASPNET-MVC-3-Preview-1-and-Razor-Tips-with-Phil-Haack/">Webcamp video</a> where <a href="http://haacked.com/">Phil Haack</a> with <a href="http://jamessenior.com/">James Senior</a> demonstrate this view engine. My this post is also based on the same talk.</p>

<p>So when you install MVC 3 Preview 1 on your machine, jump start by creating a new project in Visual Studio 2010. You will not be able to use this view engine with .NETFX 3.5 (SP1).</p>

<p><img src="/images/vs-mvc-project-template.png" alt="Visual Studio MVC project template" /></p>

<p>Now when you select new project and under <code>Web</code> templates you will now see ASP.NET MVC 3 application twice. The one template with (ASPX) is using normal web forms as your view engine and the other one with (Razor) is the new view engine. This is only for preview 1, these options will not be present in the final release of the MVC 3, instead you will have an oprion to select the view engine for your application later, I am not very sure how, but it will be more likely the way you select tests.</p>

<p>Time to check the <code>Solution Explorer</code>. No <code>.aspx</code> files only <code>.cshtml</code></p>

<p><img src="/images/vs-mvc-files.png" alt="Visual Studio MVC project files" /></p>

<p>The drawback in Preview 1 is that there is no syntax highlighting and no intellisense. Now that would have made you think &ldquo;OMG! how am I going to write the code now!?&rdquo;. But Razor is easy and more over it too light-weight, more then I thought before I used it. Check out Index.cshtml, the markup code looks like this.</p>

<p><img src="/images/vs-mvc-markup.png" alt="MVC razor markup" /></p>

<p>Time to take a look at Home Controller. Take a look at the <code>Index()</code> action method, the syntax is bit different with the one we have used previously.</p>

<pre class="brush:csharp">
public ActionResult Index()
{      
       ViewModel.Message = "Welcome to ASP.NET MVC!";
       return View();
}
</pre>

<p>The line <strong>ViewModel.Message = &ldquo;Welcome to ASP.NET MVC!&rdquo;;</strong> is equivalent to:</p>

<pre class="brush:csharp">
public ActionResult Index()
{      
       ViewData["Message"] = "Welcome to ASP.NET MVC!";
       return View();
}
</pre>

<p>The ViewModel basically is of type <code>dynamic</code> which means that its operations will be resolved at runtime. Hover your cursor over <code>ViewModel</code> and <code>Message</code> to know about it.</p>

<p><img src="/images/vs-mvc-dynamic.png" alt="Dynamic" />
<img src="/images/vs-mvc-dynamix-expr.png" alt="Dynamic expression" /></p>

<p>If you need to show some addtional information related your current project you can set it too with ease. In the Index method you can add antoher line like this which says something about your project:</p>

<p><strong>NOTE:</strong> *As ViewModel is of Dynamic type, so when you press dot (.) after writing ViewModel don&rsquo;t expect that something will come up and as said before <strong>all expressions will be resolved at runtime</strong>.*</p>

<pre class="brush:csharp">
public ActionResult Index()
{
      ViewModel.Message = "Welcome to ASP.NET MVC!";
      ViewModel.AboutApp = "This is a sample ASP.NET MVC 3 Preview 1 application!";
      return View();
}
</pre>

<p>To show this message on the Index view you will just call it by prefixing it with <strong>&rsquo;@&rsquo;</strong> symbol. To show the value on the page you simply write below line and prefix it with @ symbol(If you say this is simple, I would rather prefer to say it effortless).</p>

<pre class="brush:plain">
@View.Message 
@View.AboutApp
</pre>

<p>Moving further, add a new class called <code>Contacts</code> (or what ever name you like) with 3 peoperties.</p>

<pre class="brush:csharp">
public class Contacts
{
    public string Name{ get; set; }
    public int Age{ get; set; }
    public string Email { get; set; }
}
</pre>

<p>Moving back to the <code>HomeController</code> add the below lines of code to the <code>Index</code> action method.</p>

<pre class="brush:csharp">
var ctc = new Contacts[] {
          new Contacts{Name="Prashant", Age = 23},
          new Contacts{Name="Arvind", Age = 24},
          new Contacts{Name="Max", Age = 23}
};
</pre>

<p>The view should not be empty this time. And therefore your Index action method return the <code>Contacts</code> we have just created.</p>

<pre class="brush:csharp">

public ActionResult Index()
{
    ViewModel.Message = "Welcome to ASP.NET MVC!";
    ViewModel.AboutApp = "This is a sample ASP.NET MVC 3 Preview 1 application!";             
    var ctc = new Contacts[] {
          new Contacts{Name="Prashant", Age = 23},
          new Contacts{Name="Arvind", Age = 24},
          new Contacts{Name="Max", Age = 23}
          return View(ctc);
    };
}
</pre>

<p>This time also Razor makes it simple to view the the data you returned from the controller. In the Index.cshtml you can do it pretty simply and you will still have a pretty looking markup of the view page. Create a list of contacts you have just created. As they are in a set of array, we can then enumerate the array with a foreach loop and show it on the page.</p>

<pre class="brush:html">
&lt;ul&gt;
@foreach (var c in Model){
&lt;li&gt; My name is @c.Name and I am @c.Age years old. &lt;/li&gt;
}&lt;/ul&gt;
</pre>

<p>You can easily get the data in a jiffy without writing a lot of markup. No problem in concatenating the data, the @ symbol and MVC compiler is pretty intelligent and does this for us. So what if we want to add e-mail addresses also. How this view engine will handle this ambiguity? Well let see. Just add an e-mail property to the array of contacts.</p>

<pre class="brush:csharp">
var ctc = new Contacts[] {
          new Contacts{Name = "Prashant", Age = 23, Email = "prashant@midnightprogrammer.net"
}
</pre>

<p>And on the view page the line will be something like this</p>

<pre class="brush:html">
&lt;ul&gt;
@foreach (var c in Model){
&lt;li&gt; My name is @c.Name and I am @c.Age years old. You can email me at @c.Email.&lt;/li&gt;
}&lt;/ul&gt;
</pre>

<p>Hit F5 and see it by yourself. There are lot of features described by Scott Guthrie and Phil Haack on their blog. Well I can go on writing and writing about Razor, so I think I should take a pause now and you can go to below links for more deep information about Razor view engine and to know what&rsquo;s new in the upcoming release of ASP.NET MVC 3.</p>

<p><strong>Recommend Reading:</strong></p>

<ul>
<li><a href="http://weblogs.asp.net/scottgu/archive/2010/07/27/introducing-asp-net-mvc-3-preview-1.aspx">Scott Guthrie - Introducing ASP.NET MVC 3 Preview 1</a></li>
<li><a href="http://haacked.com/archive/2010/07/27/aspnetmvc3-preview1-released.aspx">Phill Haack on MVC 3 Preview 1</a></li>
<li><a href="http://haacked.com/archive/2010/07/03/razor-view-syntax.aspx">Phill Haack on Razor view syntax</a></li>
</ul>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/efficient-use-of-windows-skydrive/">Efficient Use Of Windows SkyDrive</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Aug 30, 2010
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/azure">AZURE</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/microsoft">MICROSOFT</a>
      
      
      
      
    </span>
    <p>If you are not using this free service offered by Microsoft, then stop reading and go to SkyDrive and sign in with your Live ID and get started. A whooping 25 GB of free space to put  all your stuff at one place, access anytime, and anywhere you want and just in case if you are aware, which I hope you already are, why I am mentioning about skydrive here? So, here is the case&hellip;</p>

<p>I uploaded some videos on my blog a few month ago, the files were physically hosted on my blog space and hogging a lot of space. I am now using SkyDrive since it final launch in August 2007 (if I am not wrong) and just gave a quick thought on hotlinking my files from SkyDrive to my blog. There are two big benefits of using SkyDrive for file hosting:</p>

<ul>
<li><strong>Saves Web Space</strong> - In terms of any file you upload to your blog, it now get uploaded to SkyDrive and save your web space</li>
<li><strong>Saves Bandwidth</strong> - If you have a video or MP3 file host it on SkyDrive and set the hotlink in the player on your blog. The player just plays the files, just like embedding videos from YouTube or Channel9.</li>
</ul>

<p>So how can you hotlink files from SkyDrive and use it for your purpose. Go to the folder where you have the file, it can be an image, video or a audio file. You will see something like the below. This is one of my public folder where I have 2 images (funny).</p>

<p><img src="/images/skydrive-image.png" alt="Skydrive images" /></p>

<p>Change the view style from <code>Thumbnail</code> to <code>Details</code>. By default for the folder having images the default view will be Thumbnails.</p>

<p><img src="/images/skydrive-viewstyle.png" alt="Skydrive images" /></p>

<p>Now hover the mouse to the image you want to embed or hotlink in your blog post or on a webpage. Click <code>More</code> and then right-click <code>Download</code> and select <code>Copy Link Location</code>. This will copy the download link on your clicb board and now you require some manual work on the link.</p>

<p><img src="/images/skydrive-more-options.png" alt="Skydrive options" /></p>

<p>Open notepad and and paste the copied text. The link look something like this.</p>

<pre class="brush:plain">
http://5mr9iq.bay.livefilestore.com/
y1pn6wH-ZKbNE3AMAGeZry5db0ukIQqy2ksda2ZHtegsxyJeeN1ufTs4AbT
-iyG2DnYpkLUFyPw5OnTpE_t7p_duRJ5wcVOHoC_/edin.jpg?download&psid=1
</pre>

<p>Just to hotlink the file remove the text starting from <code>'?'</code> till end (remove <code>?download&amp;psid=1</code>) and that&rsquo;s it, your image hotlink is ready and the final version of link looks like this:</p>

<pre class="brush:plain">
http://5mr9iq.bay.livefilestore.com/y1pn6wH-
ZKbNE3AMAGeZry5db0ukIQqy2ksda2ZHtegsxyJeeN1ufTs4AbT-
iyG2DnYpkLUFyPw5OnTpE_t7p_duRJ5wcVOHoC_/edin.jpg
</pre>

<p>Below is the same image I have hotlinked from my SkyDrive account.</p>

<p><img src="http://public.bay.livefilestore.com/y1pV5PYFDdysQLLmpsP5_X-TBuJqxGBQNrnkgcevwj9mbzNVNSoDxt2ZY1kdebsv2Shj-mL74CGyW7zX-R7Jq4rwA/edin.jpg" alt="Image hotlink from Skydrive" /></p>

<p>The same can be done for the videos.</p>

<p>Moreover, if you take a look at the status bar of your IE or the browser you are using you will see that the data transfer is from <code>livefilestore.com</code> and not from yourdomain.com. This saves your bandwidth too!!!</p>

<p><img src="/images/skydrive-transfer.png" alt="Image being loaded from Skydrive" /></p>

<p>This is not enough, now the question here is how can one upload files to SkyDrive, we can use the web interface provided by the SkyDrive&hellip;..!!? But how about using it as a network drive on your My Computer. You can download <a href="http://www.gladinet.com/p/download_starter_direct.htm">Gladient Cloud Desktop</a> to map the SkyDrive or any other online service you are using to store your files, like Amazon S3 or Picasaweb to share photos.</p>

<p><strong>UPDATE:</strong> <a href="http://coolthingoftheday.blogspot.com/">Greg Duncan</a> share his experience with SkyDrive with me. I recommend you to read it <a href="http://midnightprogrammer.net/post/efficient-use-of-windows-skydrive#comment">here</a>.</p>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/add-openid-login-support-in-your-aspnet-application/">Add OpenID Login Support In Your ASP.NET Application</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Aug 29, 2010
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/api">API</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net">ASP.NET</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/visual-studio">VISUAL STUDIO</a>
      
      
      
      
    </span>
    <p><img align="right" src="/images/oauth-logo.png" alt="OAuth logo"/></p>

<p>Few days back I was looking at Scott Hanselman and friend&rsquo;s Open Source Nerddinner project, learning and grabbing some new things from there. Apart from looking some internals I looked at the OpenID implementation. This was all a week ago and now it&rsquo;s time for me to write and give some thoughts on DotNetOpenAuth. For folks who are new to OpenID I am going to demonstrate how you can implement one in your project with ease.</p>

<p>To get started download the <a href="http://www.dotnetopenauth.net/">DotNetOpenAuth</a> API and extract the contents from the zip file. The download also includes some samples for you to get you started. Kickstart by creating a new ASP.NET webforms project. I am just using a default template for my application, you can use the one you like or start by creating a new page. Why I am using the default template for ASP.NET webform project? well you get to know later. So now when we are done creating a new ASP.NET webform project, time to add OpenID stuff in the project. Right click <code>References</code> and select <code>Add Reference</code>. Browse to the <code>bin</code> folder where you have extracted the contents of the downloaded zip file. Select <code>DotNetOpenAuth.dll</code> and click OK.</p>

<p><strong>Changing the web.config:</strong></p>

<p>A minor change in the web.config is required. Find the below lines in your web.config file:</p>

<pre class="brush:xml">
&lt;authentication mode="Forms"&gt;&lt;forms loginUrl="~/Account/Login.aspx"
timeout="2880" /&gt;&lt;/authentication&gt;
</pre>

<p>and replace it with:</p>

<pre class="brush:xml">
&lt;authentication mode="Forms"&gt;&lt;forms defaultUrl="/default.aspx"
loginUrl="~/Account/login.aspx"/&gt;&lt;/authentication&gt;
</pre>

<p>In the above configuration, <code>loginUrl</code> will always point towards to the login page and the <code>defaultUrl</code> will always point towards the page/URL which will be displayed when the authentication is successfull.</p>

<p><strong>Implemeting OpenID support:</strong></p>

<p>To implement OpenID support, open <code>login.aspx</code> page in the design view and then drag the OpenIdLogin from the toolbox on the page just after the default login implementation ends or where you want to have OpenID login. If you are not able to view the control, then you can browse the same <code>dll</code> you have add a reference in the above step.</p>

<p><img src="/images/oauth-vs-toolbox.png" alt="OAuth control in VS control box" /></p>

<p>If you want to implement this manually then register the control at the top of the page and then use it on the page.</p>

<p><strong>Register the control:</strong></p>

<pre class="brush:xml">
&lt;%@ Register Assembly="DotNetOpenAuth" Namespace="DotNetOpenAuth.OpenId.RelyingParty"
TagPrefix="rp" %&gt;
</pre>

<p><strong>To use the control on the page you can then simply write:</strong></p>

<pre class="brush:xml">
&lt;rp:OpenIdLogin ID="OpenIdLogin1" runat="server"&gt;&lt;/rp:OpenIdLogin&gt;
</pre>

<p>All done now and it&rsquo;s time to test our application. Hit <code>F5</code> and login with your openID. The page rendered in front of you is</p>

<p><img src="/images/oauth-webapp-login.png" alt="OAuth control rendered in web app" /></p>

<p>Enter your openID and click login. You will be redirected to the official OpenID login page.</p>

<p><img src="/images/oauth-page.png" alt="OAuth page for authentication" /></p>

<p>Enter your password for openID account and after the authentication is successfull you will be re-directed to the default page. Remember the web.config configuration we did!!? If everything goes well you can see your openID name login name on the top of the page.</p>

<p><img src="/images/oauth-success.png" alt="OAuth success page" /></p>

<p>This is the simplest way to implement openID. You can also implement openID on your ASP.NET MVC project to add some flexibility for you site users. Apart from this you can also download the <a href="https://www.ohloh.net/p/dotnetopenauth/download?package=DotNetOpenAuth+project+templates&amp;release=3.4.5">Visual Studio 2010 template</a>.</p>

<p><strong>Download: <a href="/files/DOTNETOAUTH.zip">DOTNETOAUTH.zip (542.85 kb)</a></strong></p>

<p><strong>Related Links:</strong></p>

<ul>
<li><a href="http://www.dotnetopenauth.net/">DotNetOpenAuth</a></li>
<li><a href="http://blog.nerdbank.net">http://blog.nerdbank.net</a></li>
<li><a href="https://www.idselector.com/">https://www.idselector.com/</a></li>
<li><a href="http://www.hanselman.com/blog/TheWeeklySourceCode25OpenIDEdition.aspx">Scott Hanselman - Weekly Source Code 25</a></li>
</ul>

  </div>
  
</div>


<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/19/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/19/">19</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/20/">20</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/21/">21</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/32/">32</a></li>
    
    
    <li class="page-item">
    <a href="/page/21/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/32/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>


        </div>
        



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-8994557-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCore.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shThemeDefault.min.css" rel="stylesheet">

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCSharp.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCss.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPlain.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushSql.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushXml.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPowerShell.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPython.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushBash.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCpp.min.js"></script>

<script>
    SyntaxHighlighter.defaults['gutter'] = true;
    SyntaxHighlighter.defaults['smart-tabs'] = true;
    SyntaxHighlighter.defaults['auto-links'] = true;
    SyntaxHighlighter.defaults['collapse'] = false;
    SyntaxHighlighter.defaults['light'] = false;
    SyntaxHighlighter.defaults['tab-size'] = 4;
    SyntaxHighlighter.defaults['toolbar'] = false;
    SyntaxHighlighter.defaults['wrap-lines'] = true;
    SyntaxHighlighter.all();
</script>

    </body>
</html>
