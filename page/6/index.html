<!DOCTYPE html>
<html lang="en-us">
    
<head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.49" />

    

<title>Midnight Programmer</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Midnight Programmer"/>
<meta name="twitter:description" content="Programming For Fun"/>

<meta property="og:title" content="Midnight Programmer" />
<meta property="og:description" content="Programming For Fun" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://prashantkhandelwal.github.io/" />
<meta property="og:updated_time" content="2015-07-19T13:51:00&#43;00:00"/><meta property="og:site_name" content="Midnight Programmer" />


    


<link rel="stylesheet" href="/css/hyde-hyde.css">
<link rel="stylesheet" href="/css/print.css" media="print">


    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

<link href="https://prashantkhandelwal.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Midnight Programmer" />
<link href="https://prashantkhandelwal.github.io/index.xml" rel="feed" type="application/rss+xml" title="Midnight Programmer" />


</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://prashantkhandelwal.github.io/">Midnight Programmer</a>
      </span>
      
      
      
      <div class="author-image">
        <img src="https://prashantkhandelwal.github.io//img/prashantk.jpg" alt="Author Image" class="img--circle img--headshot element--center"> 
      </div>
      
      <p class="site__description">
         Programming For Fun 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Midnight Programmer</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/archive/"><i class='fa fa-road'></i>
						<span>Archive</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/top-posts/"><i class='fa fa-star fa-fw'></i>
						<span>Top Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/contact/"><i class='fa fa-envelope fa-fw'></i>
						<span>Contact</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/nullgap" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://facebook.com/khandelwal.p" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/prashantkhandelwal" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="http://feeds.feedburner.com/MidnightProgrammer" rel="me"><i class="fa fa-rss fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://instagram.com/prashantkhandelwal" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/khandelwalprashant" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	<a href="https://medium.com/@prashantkhandelwal" rel="me"><i class="fab fa-medium fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
</section>

      </div>
    </div>
    <p class="copyright">
      &copy; 2025 Pashant Khandelwal
      <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/2.5/in/"><img style="border-width: 0;" src="https://i.creativecommons.org/l/by-nc-sa/2.5/in/88x31.png" alt="Creative Commons License" class="thinglinkFiltered"></a>
      
    </p>
  </div>
  <div>
  </div>
</div>

        <div class="content container">
            
<div class="post-list">
  
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/net-projects-you-should-be-follwing-on-github/">.NET Projects You Should Be Following On Github</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Jul 19, 2015
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/api">API</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net">ASP.NET</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net-mvc">ASP.NET MVC</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/c">C#</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/musings">MUSINGS</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/web">WEB</a>
      
      
      
      
    </span>
    

<p>Open-source has entirely change the programming and developers world. Today you can create any application, game, mobile app without spending a single penny. Thanks to open-source software and awesome community of developers and people behind them. As a .NET developer I have been developing enterprise applications for quite a long time and now I have shifted my focus towards developing products and understanding what it takes to make a successful product launch.</p>

<p>Back then, I used to spend most of my time in investigating the new technologies and what technology we should be using to get this thing done. I still do that today, not because it is the requirement of the project but because I have been asking a lot of questions. The list of projects I have compiled below are the projects that have helped me in learning lots of new things and insights of the programming and I hope this does the same for you as well.  Here is the list of awesome open-source project that you should be following on Github.</p>

<h4 id="pinta-http-www-pinta-project-com"><a href="http://www.pinta-project.com/">Pinta</a></h4>

<p><img src="/images/pinta-screenshot.jpg" alt="Pinta" /></p>

<p>We all know about Paint.net, it is an awesome tool and a complete replacement of Photoshop (at least for me). And yet there is another project which is almost the same and open-source and it works on Linux and Mac. It uses Gtk# (Gtk sharp) to run on both Window and Linux platforms. This project is a must have if you are a .NET guy and want to get yourself into some serious programming. You will learn about the insights of using gtk# in your projects. Though Microsoft already took the steps to have .NET FX on Linux but still this project is a great learning source.</p>

<p><strong>Official site:</strong> <a href="http://www.pinta-project.com/">http://www.pinta-project.com/</a></p>

<p><strong>Github:</strong> <a href="https://github.com/PintaProject/Pinta">https://github.com/PintaProject/Pinta</a></p>

<h4 id="sharex-https-getsharex-com"><a href="https://getsharex.com/">ShareX</a></h4>

<p><img src="/images/sharex-screenshot.png" alt="ShareX" /></p>

<p>I take a lot of screen shots and record screen casts as well for my personal use. But I used to use two different tools to get the work done. This is one of the tools that will not just take screen shots or just let you record your screen casts easily, it will also allow you to upload them to the 40 different image storing cloud services. Dive into the source code and see the awesomeness under the hood. Here is the project description as seen on Github.</p>

<blockquote>
<p>ShareX is an open source program that lets you take screenshots or screencasts of any selected area with a single key, save them in your clipboard, hard disk or instantly upload them to over 40 different file hosting services. In addition to taking screenshots, it can upload images, text files and all other different file types.</p>
</blockquote>

<p><strong>Official site:</strong> <a href="https://getsharex.com/">https://getsharex.com/</a></p>

<p><strong>Github:</strong> <a href="https://github.com/ShareX/ShareX">https://github.com/ShareX/ShareX</a></p>

<h4 id="stackexchange-data-explorer-https-data-stackexchange-com"><a href="https://data.stackexchange.com/">StackExchange - Data Explorer</a></h4>

<p><img src="/images/data-explorer-screenshot.png" alt="DataExplorer" /></p>

<p>You got a programming question, you Google it and it redirects it to StackOverflow. StackOverflow needs no introduction among programmers. StackOverflow is one of the Q&amp;A site dedicated to the developers to get the answers for their problems. But it is just one site. In the recent years StackExchange has grew up and not just providing support for programmers but also helping folks from other fields. Now the data StackExchange has is available for anyone out there for free under creative-commons. If you are interested in looking into the source code that powers the user to query that immense amount of data bank then head over to Github and fork this project. StackExchange is all about Microsoft stack and this tool is also written in ASP.NET MVC3.</p>

<p><strong>Official App:</strong> <a href="https://data.stackexchange.com/">https://data.stackexchange.com/</a></p>

<p><strong>Github:</strong> <a href="https://github.com/StackExchange/StackExchange.DataExplorer">https://github.com/StackExchange/StackExchange.DataExplorer</a></p>

<h4 id="miniblog-https-github-com-madskristensen-miniblog"><a href="https://github.com/madskristensen/MiniBlog">MiniBlog</a></h4>

<p><img src="/images/miniblog-screenshot.png" alt="MiniBlog" /></p>

<p>This is the minimalistic blog engine written in ASP.NET web pages by the author of BlogEngine.NET, Mads Kristensen. I started my bog with BlogEngine.NET and I had an amazing experience with it. MiniBlog is totally different in terms of features that are offered by BlogEngine.NET. This project will tell you the power of web pages and how you can write your own simple site without wasting much time.</p>

<p><strong>Demo:</strong> <a href="http://miniblog.azurewebsites.net/">http://miniblog.azurewebsites.net/</a> (with user name and password as demo).</p>

<p><strong>Github:</strong> <a href="https://github.com/madskristensen/MiniBlog">https://github.com/madskristensen/MiniBlog</a></p>

<h4 id="fluent-scheduler-https-github-com-jgeurts-fluentscheduler"><a href="https://github.com/jgeurts/FluentScheduler">Fluent Scheduler</a></h4>

<p>If you want to run cron jobs or automated jobs in your application quietly, then this is the library you should be using. The documentation is pretty sleek and get you started in no time. But other than that you should take a look at the source code and see how nicely this has been done.</p>

<p><strong>Github:</strong> <a href="https://github.com/jgeurts/FluentScheduler">https://github.com/jgeurts/FluentScheduler</a></p>

<h4 id="dapper-https-github-com-stackexchange-dapper-dot-net"><a href="https://github.com/StackExchange/dapper-dot-net">Dapper</a></h4>

<p>A Micro-ORM used by StackExchange sites. This is a perfect replacement for EF. This is just a single file that you can drop in your project and get started.</p>

<blockquote>
<p>Dapper is a single file you can drop in to your project that will extend your IDbConnection interface.</p>
</blockquote>

<p><strong>Github:</strong> <a href="https://github.com/StackExchange/dapper-dot-net">https://github.com/StackExchange/dapper-dot-net</a></p>

<h4 id="linq-towiki-https-github-com-svick-linq-to-wiki"><a href="https://github.com/svick/LINQ-to-Wiki">LINQ-toWIKI</a>)</h4>

<p>A .NET library to access MediaWiki API. The library is almost 3 years old but the source code will worth the look. Excerpt from Github:</p>

<blockquote>
<p>LinqToWiki is a library for accessing sites running MediaWiki (including Wikipedia) through the MediaWiki API from .Net languages like C# and VB.NET.</p>

<p>It can be used to do almost anything that can be done from the web interface and more, including things like editing articles, listing articles in categories, listing all kinds of links on a page and much more. Querying the various lists available can be done using LINQ queries, which then get translated into efficient API requests.</p>
</blockquote>

<p><strong>Github:</strong> <a href="https://github.com/svick/LINQ-to-Wiki">https://github.com/svick/LINQ-to-Wiki</a></p>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/getting-started-with-aspnet-5-on-ubuntu/">Getting Started With ASP.NET 5 On Ubuntu</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Jun 16, 2015
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/.net-framework">.NET FRAMEWORK</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net">ASP.NET</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net-mvc">ASP.NET MVC</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/c">C#</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/microsoft">MICROSOFT</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/ubuntu">UBUNTU</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/visual-studio">VISUAL STUDIO</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/web">WEB</a>
      
      
      
      
    </span>
    

<p>Ever since the <a href="http://blogs.msdn.com/b/dotnet/archive/2014/11/12/net-core-is-open-source.aspx">.NET stack went open source last year</a>, there is a huge excitement among the developers about the .NET stuff and developing apps using .NET which are no longer limited to Windows platform. I tried to install ASP.NET VNext on Ubuntu VM in which I terribly failed in the first go. Why? because the tutorial I used was quite old and I messed up the installation of pre-requisites. But I get everything working in the second try. So here are the steps and commands that will get you started with ASP.NET VNext on Ubuntu.</p>

<blockquote>
<p>I am setting up a fresh VM for development on Ubuntu 14.04.2 LTS</p>
</blockquote>

<h4 id="installing-mono">Installing Mono</h4>

<p>First thing is to install <a href="http://www.mono-project.com/">Mono</a>. For folks who are new to Linux environment, Mono is a community driven project which allows developers to build and run .NET application on Linux platforms. Here is the set of commands that I have to execute to install Mono.</p>

<pre class="brush: bash">
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF
</pre>

<p><img src="/images/bash-command.png" alt="Add keyserver" /></p>

<pre class="brush: bash">
echo "deb http://download.mono-project.com/repo/debian wheezy main" | sudo tee /etc/apt/sources.list.d/mono-xamarin.list
sudo apt-get update
</pre>

<p><img src="/images/apt-get-command.png" alt="Update Ubuntu Installation" /></p>

<p>Install the latest version of Mono available.</p>

<pre class="brush: bash">
sudo apt-get install mono-complete
</pre>

<p><img src="/images/install-mono.png" alt="Install Mono" /></p>

<p>To check if Mono is successfully installed or to determine the version of Mono on you machine run the below command in the terminal.</p>

<pre class="brush: bash">
mono --version
</pre>

<p><img src="/images/mono-ver.png" alt="Check Mono Version" /></p>

<h4 id="installing-libuv">Installing LibUV</h4>

<p>As stated on Github:</p>

<blockquote>
<p>Libuv is a multi-platform asynchronous IO library that is used by the KestrelHttpServer that we will use to host our web applications.</p>
</blockquote>

<p>Running the below command will install LibUV along with the dependencies require to build it.</p>

<pre class="brush: bash">
sudo apt-get install automake libtool
</pre>

<p><img src="/images/install-libtool.png" alt="Install libtool and automake" /></p>

<p>Getting the source and building and installing it.</p>

<pre class="brush: bash">
curl -sSL https://github.com/libuv/libuv/archive/v1.9.0.tar.gz | sudo tar zxfv - -C /usr/local/src
cd /usr/local/src/libuv-1.9.0
sudo sh autogen.sh
sudo ./configure
sudo make 
sudo make install
sudo rm -rf /usr/local/src/libuv-1.9.0 && cd ~/
sudo ldconfig
</pre>

<p>Here is a note at Githb repo that explains what the above set of commands are doing.</p>

<blockquote>
<p>NOTE: make install puts libuv.so.1 in /usr/local/lib, in the above commands ldconfig is used to update ld.so.cache so that dlopen (see man dlopen) can load it. If you are getting libuv some other way or not running make install then you need to ensure that dlopen is capable of loading libuv.so.1</p>
</blockquote>

<h4 id="getting-net-version-manager-dnvm">Getting .NET Version Manager (DNVM)</h4>

<p>DNVM is a command line tool which allows you to get new build of the DNX (.NET Execution Environment) and allows you to switch between them. To get DNVM running fire the below command in the terminal.</p>

<pre class="brush: bash">
curl -sSL https://raw.githubusercontent.com/aspnet/Home/dev/dnvminstall.sh | DNX_BRANCH=dev sh && source ~/.dnx/dnvm/dnvm.sh
</pre>

<p><img src="/images/install-dnvm.png" alt="Install DNVM" /></p>

<p>To check if the DNVM is successfully installed on your machine, type DNVM in the terminal. The output should be something like this:</p>

<p><img src="/images/check-dnvm.png" alt="Check DNVM Installation" /></p>

<p>At any point of time if you want to list out the installed DNX runtimes, run the below command</p>

<pre class="brush: bash">
dnvm list
</pre>

<p><img src="/images/dnvm-list.png" alt="List DNVM version" /></p>

<p>The next step after this, is to upgrade the DNVM so you can use the <code>dnx</code> and <code>dnu</code> commands. Run the following command in the terminal.</p>

<pre class="brush: bash">
dnvm upgrade
</pre>

<p><img src="/images/dnvm-upgrade.png" alt="Upgrade DNVM" /></p>

<p>Once this is done, we are all set to run ASP.NET VNext application on Ubuntu box. Clone the aspnet/Home repository from Github. If you don&rsquo;t have Git installed then install it with this simple command.</p>

<pre class="brush: bash">
sudo apt-get install git
</pre>

<p>For simplicity, I have created a new directory on Ubuntu desktop named vnext. You can name the directory as you wish. Navigate to this directory in the terminal and clone the aspnet/Home repository.</p>

<pre class="brush: bash">
git clone https://github.com/aspnet/Home.git
</pre>

<p><img src="/images/git-clone-aspnet-repo.png" alt="Git clone command for asp.net repo" /></p>

<p>After cloning of repository is done, navigate to the <code>1.0.0-beta4</code> directory.</p>

<p><img src="/images/aspnet-beta-folder.png" alt="ASP.NET beta folder" /></p>

<p>You can see three sample applications that you can test. For this tutorial I am going to checkout <code>HelloMvc</code> application. Get inside the <code>HelloMvc</code> directory and then, run the command</p>

<pre class="brush: bash">
dnu restore
</pre>

<p><img src="/images/dnu-restore-comand.png" alt="DNU restore command" /></p>

<p>This will take some time to execute. I didn&rsquo;t face this problem but there is a chance that someone will. When you run this command, the <code>project.json.lock</code> file gets created and the restore of the package will start. In the end when the restore is finalizing, it may say permission is denied. To resolve this error you can change the permission of the folder by running the following command.</p>

<pre class="brush: bash">
sudo chmod -R 755 HelloMvc
</pre>

<p>You should always change permission to <code>755</code> for directories and <code>644</code> for files.</p>

<p>After the execution is completed, you can start the server by running the command.</p>

<pre class="brush: bash">
dnx . kestrel
</pre>

<p><img src="/images/dnx-kestrel-command.png" alt="DNX Kestrel command" /></p>

<p>This command will work for both web and mvc application. If you plan to test out the console application then you can run the following command.</p>

<pre class="brush: bash">
dnx . run
</pre>

<p>The server runs at port 5004. Fire up the browser and type in <a href="http://localhost:5004/">http://localhost:5004/</a></p>

<p><img src="/images/aspnet-output.png" alt="Application output" /></p>

<p>Hope this is helpful for the first time users of Linux.</p>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/free-e-books-from-microsoft-and-telerik-that-you-should-be-reading/">Free e-Books From Microsoft And Telerik That You Should Be Reading</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Jun 14, 2015
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/.net-framework">.NET FRAMEWORK</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/cloud">CLOUD</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/microsoft">MICROSOFT</a>
      
      
      
      
    </span>
    

<p>I am involving myself in reading book these days rather than reading blogs. Here are 2 free e-books, one from Microsoft Press with a valuable insights on Cloud, <code>Fundamental of Azure</code> and the other from Telerik, <code>The Developer's Guide</code> To The New .NET. I encourage you to read both the books, but if you are not about cloud then you should read the book from Telerik.</p>

<p><strong><a href="http://blogs.msdn.com/b/microsoft_press/archive/2015/02/03/free-ebook-microsoft-azure-essentials-fundamentals-of-azure.aspx">Microsoft Press - Fundamentals of Azure</a></strong> (<a href="http://aka.ms/697225pdf">Download</a>)</p>

<p><img src="/images/azure-fundamental-book.png" alt="Azure Fundamental Book" /></p>

<h4 id="from-microsoft-press">From Microsoft Press</h4>

<blockquote>
<p>The “Microsoft Azure Essentials” series helps you advance your technical skills with Microsoft Azure. “Microsoft Azure Essentials: Fundamentals of Azure” introduces developers and IT professionals to the wide range of capabilities in Azure. The authors—both Microsoft MVPs in Azure—present conceptual and how-to content for seven key areas and describe management tools and business cases.</p>
</blockquote>

<p><strong>Telerik - The Developer&rsquo;s Guide To The New .NET</strong> (<a href="http://www.telerik.com/campaigns/devcraft/developers-guide-dotnet">Download</a>)</p>

<p><img src="/images/telerik-dotnet-guide.png" alt="Telerik .NET Book" /></p>

<p>From Telerik</p>

<blockquote>
<p>This ebook is no fluff–just a developer-to-developer breakdown of what’s in store for .NET in 2015. Included are code snippets and step-by-step tutorials on handy new features and techniques.</p>

<p>Download for free, and learn more about:</p>
</blockquote>

<ul>
<li>Visual Studio 2015</li>
<li>.NET core goes open source</li>
<li>Cross platform development with .NET</li>
<li>C# 6.0</li>
<li>Roslyn</li>
<li>Windows 10</li>
</ul>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/how-generic-the-code-can-be-resolving-type-t-at-compile-time/">How Generic The Code Can Be - Resolving Type T at Compile Time</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Jun 7, 2015
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/.net-framework">.NET FRAMEWORK</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/c">C#</a>
      
      
      
      
    </span>
    <p>It is fun working with Generics, but sometimes it just won&rsquo;t work as I intended it to work. While working on a personal project, I was trying to write the code as generic as possible so I can re-use the functions or extension methods in my other projects as well. But it is not always the case, things will not always work as you want it to be. Here is the case of what I was trying to do.</p>

<p>I am working extensively on JSON in this project, so I thought of creating an extension method for the classes I want to serialize to JSON and save it to the file system. Creating the extension method was not a problem, but it turned out to my surprise that I just can’t use the extension method on type T. If I would have paid attention to the detail here before writing the function, I would have noticed the problem. Before I tell you what I did here, here is the extension method which will serialize class to JSON string.</p>

<pre class="brush: csharp">
public static string ToJSON&lt;T&gt;(this T Entity) where T : class
{
    return JsonConvert.SerializeObject(Entity);
}
</pre>

<p>As I want only classes to be serialize, I have a constraint in place that assure me that this extension method should be used when the T is of type Class. I agree with the fact the creating an extension method just for a simple work is an over kill but I am just lazy about writing this line again and again. The application I am working on can support multiple databases and for that I am using Dependency Injection (DI). I wrote this function keeping in mind that I just have to pass the model name i.e. class object and this function will then save the JSON string from the serialized class to the file system.</p>

<pre class="brush: csharp">
public bool Save&lt;T&gt;(T Entity, string Path) where T : class
{
    bool IsSaved = false;
    try
    {
        if (!Path.IsNullOrEmpty())
        {
            File.AppendAllText(Path, Entity.ToJSON());
            IsSaved = true;
        }
        return IsSaved;
    }
    catch (Exception x)
    {
        throw x;
    }
}
</pre>

<p>The above code will not compile. This is because, there is no way for the compiler to know the type of <code>Entity</code> object we are passing. The constraints has nothing to do with it. It is just the compiler who has to know what kind of type it is dealing with. In this case we have a type T which is not resolved at compile time and hence the <code>ToJSON()</code> extension method I am using above, is an assumption from my part that <code>Entity</code> is a class, is not going to work. The important point here is that T is going to resolve at runtime and before that if we try to use the extension method (meant only for class) on type T, the intellisense will never show the <code>ToJSON()</code> extension method in the list.</p>

<p>Now to overcome this problem, we have to make some changes to the above code in order to have the information which the compiler can use and allow us to make use of the ToJSON()extension method. As there is a constraint in place for this function which will only allow us to pass class object as a first parameter, but the case is still the same. The <code>Save</code> function will never know what is the actual type of the <code>Entity</code>. Therefore we can use the Entity object and get the name of the Class like so.</p>

<pre class="brush: csharp">
string className = Entity.GetType().Name;
</pre>

<p>This gives us the name of the class and now we can use it to get the actual type of T and convert it to that type (which will be class). Once we have a class we can then use our ToJSON() extension method. Here is the updated code.</p>

<pre class="brush: csharp">
public bool Save&lt;T&gt;(T Entity, string Path) where T : class
{
    bool IsSaved = false;
    try
    {
        if (!Path.IsNullOrEmpty())
        {
            if (Entity.GetType().Name == "Board")
                File.AppendAllText(Path, Convert.ChangeType(Entity, typeof(Board)).ToJSON());
            else if (Entity.GetType().Name == "Story")
                File.AppendAllText(Path, Convert.ChangeType(Entity, typeof(Story)).ToJSON());
 
            IsSaved = true;
        }
        return IsSaved;
    }
    catch (Exception x)
    {
        throw x;
    }
}
</pre>

<p>This code will compile and saves the JSON string to the specified path on execution. Notice the <code>Convert.ChangeType</code> function. It’s simple function which you can use to convert one type to your desired type. The only drawback here will be that you have to come here and update the function whenever you have a type of class added in the project which you want to serialize to JSON. The code is still pretty sleek according to me for the type of task I am trying to accomplish.</p>

<p>The type T is very useful, but sometimes it may not solve all your problem.</p>

  </div>
  
  <div class="post-list__item">
    <span class="item__title--big">
      <a href="/post/recurring-tasks-inside-aspnet-applications-using-hangfire/">Recurring Tasks Inside ASP.NET Applications Using HangFire</a>
      
    </span>
    <span class="item__date">
      <i class="fas fa-calendar-alt"></i> Jun 15, 2014
    </span>
    
    <span>
      
      
      
      
      
      
      <a class="badge badge-category" href="/category/asp.net">ASP.NET</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/asp.net-mvc">ASP.NET MVC</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/c">C#</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/sql">SQL</a>
      &nbsp;
      
      <a class="badge badge-category" href="/category/web">WEB</a>
      
      
      
      
    </span>
    

<p>This is open-source at its best. Running background task to work in context with ASP.NET was and is still a big deal for few developers. I user QueueUserWorkItem to schedule emails when a new comment is added on my blog. This makes sure that the UI is responsive and the user can close or navigate to other post. I have been working on enterprise applications for many years now and most of the long running tasks are running in the background i.e. windows services.</p>

<blockquote>
<p>HangFire is not limited to ASP.NET applications, you can even use it in your console applications.</p>
</blockquote>

<p>HangFire is an open-source project which allows us to run recurring tasks within the ASP.NET application. No need of scheduling tasks and windows services. Everything will be within the ASP.NET application. When a new comment is added on my blog, an email is sent to my inbox as a notification to moderate it. In a normal scenario it will take a bit more than a normal time to add a comment because an email is also being sent to my inbox. To overcome this problem, I queued the mail process in the background like so:</p>

<pre class="brush: csharp">
bool commentSave = _db.AddComment(comment);
if (commentSave)
{
    System.Threading.ThreadPool.QueueUserWorkItem(s=&gt; BlogEmail.SendEmail(comment));
    return Json(new { message = "Thanks for your comment. The comment is now awaiting moderation" });
}
else
    return Json(new { message = "There is an error while saving comment. Please try again later" });
</pre>

<p>As soon as a comment is added, user will be prompted that comment is added in the DB but the process of sending the email is scheduled in the background. But this approach has a drawback. What if the email sending is failed? As the admin of my blog, will I be able to see the status of the process? HangFire resolves all these questions and it comes with an awesome HangFire monitor which displays the status of all the background tasks in real-time. I will discuss about the HangFire monitor later in this post, but first let&rsquo;s get started with HangFire.</p>

<h4 id="installing-hangfire">Installing HangFire</h4>

<p>HangFire is available on <a href="https://www.nuget.org/packages/HangFire/0.9.1">NuGet</a>. Firing the below command will automatically add the references in your project and takes care of all the configuration.</p>

<pre class="brush: plain">
Install-Package HangFire
Attempting to resolve dependency 'HangFire.SqlServer (= 0.9.1)'.
Attempting to resolve dependency 'HangFire.Core (= 0.9.1)'.
Attempting to resolve dependency 'Common.Logging (= 2.1.2)'.
Attempting to resolve dependency 'Newtonsoft.Json (= 5.0.0)'.
Attempting to resolve dependency 'ncrontab (= 1.0.0)'.
Attempting to resolve dependency 'Dapper (= 1.13)'.
Attempting to resolve dependency 'HangFire.Web (= 0.9.1)'.
Attempting to resolve dependency 'CronExpressionDescriptor (= 1.10.1)'.
Attempting to resolve dependency 'WebActivatorEx (= 2.0.1)'.
Attempting to resolve dependency 'Microsoft.Web.Infrastructure (= 1.0.0.0)'.
Installing 'Common.Logging 2.1.2'.
Successfully installed 'Common.Logging 2.1.2'.
Installing 'ncrontab 1.0.0'.
Successfully installed 'ncrontab 1.0.0'.
Installing 'HangFire.Core 0.9.1'.
Successfully installed 'HangFire.Core 0.9.1'.
Installing 'Dapper 1.13'.
Successfully installed 'Dapper 1.13'.
Installing 'HangFire.SqlServer 0.9.1'.
Successfully installed 'HangFire.SqlServer 0.9.1'.
Installing 'CronExpressionDescriptor 1.10.1'.
Successfully installed 'CronExpressionDescriptor 1.10.1'.
Installing 'WebActivatorEx 2.0.1'.
Successfully installed 'WebActivatorEx 2.0.1'.
Installing 'HangFire.Web 0.9.1'.
Successfully installed 'HangFire.Web 0.9.1'.
Installing 'HangFire 0.9.1'.
Successfully installed 'HangFire 0.9.1'.
Adding 'Common.Logging 2.1.2' to HangfireDemo.
Successfully added 'Common.Logging 2.1.2' to HangfireDemo.
Adding 'ncrontab 1.0.0' to HangfireDemo.
Successfully added 'ncrontab 1.0.0' to HangfireDemo.
Adding 'HangFire.Core 0.9.1' to HangfireDemo.
Successfully added 'HangFire.Core 0.9.1' to HangfireDemo.
Adding 'Dapper 1.13' to HangfireDemo.
Successfully added 'Dapper 1.13' to HangfireDemo.
Adding 'HangFire.SqlServer 0.9.1' to HangfireDemo.
Successfully added 'HangFire.SqlServer 0.9.1' to HangfireDemo.
Adding 'CronExpressionDescriptor 1.10.1' to HangfireDemo.
Successfully added 'CronExpressionDescriptor 1.10.1' to HangfireDemo.
Adding 'WebActivatorEx 2.0.1' to HangfireDemo.
Successfully added 'WebActivatorEx 2.0.1' to HangfireDemo.
Adding 'HangFire.Web 0.9.1' to HangfireDemo.
Successfully added 'HangFire.Web 0.9.1' to HangfireDemo.
Adding 'HangFire 0.9.1' to HangfireDemo.
Successfully added 'HangFire 0.9.1' to HangfireDemo.
</pre>

<p>I am using HangFire with ASP.NET MVC application. Here are the few things that you need to configure before you dive in. When installing HangFire via NuGet, it adds <code>HangFireConfig.cs</code> under <code>App_Start</code> folder. HangFire supports Redis, SQL Server, SQL Azure or MSMQ. I am using SQL Server in this demo. The reason we require this storage because it is being used by the HangFire monitor to display the real-time data of the jobs. To configure HangFire to use SQL Server, open HangFireConfig.cs file and change the connection string as per your SQL Server installation.</p>

<pre class="brush: csharp">
JobStorage.Current = new SqlServerStorage(
    @"Server=GHOST\SERVER; Database=Jobs;user id=sa; password=pass#w0rd1;");
</pre>

<p>When the application first starts, all required database objects are created.</p>

<p><img src="/images/sql-object-browser.png" alt="SQL Server DB for HangFire" /></p>

<p>You can find the scripts inside the downloaded package <code>HangFire.SqlServer.0.9.1\Tools\install.sql</code>. The jobs and monitor will be using this database to show me the real-time status of the jobs running in the background. To view the HangFire monitor, simply navigate to <code>http://&lt;sitename&gt;/hangfire.axd</code>. As it is a handler, you can see it in your web.config file. Let&rsquo;s see it in action:</p>

<p><img src="/images/hangfire-dashboard.png" alt="HangFire Dashboard" /></p>

<p>The navigation pane on the right, lets you see the jobs and their status. It let&rsquo;s you even see the queues which are currently running.</p>

<h4 id="scheduling-the-jobs">Scheduling the Jobs</h4>

<p>Scheduling jobs using HangFire is easier then I thought it would be. Talking about the same example from my blog which sends email in my inbox when a new comment is added. If I want to schedule the mail send process as a background job I can do it easily using the <code>BackgroundJob</code> class.</p>

<pre class="brush: csharp">
bool commentSave = _db.AddComment(comment);
if (commentSave)
{
    BackgroundJob.Enqueue(() => BlogEmail.SendEmail(comment));
    return Json(new { message = "Thanks for your comment. The comment is now awaiting moderation" });
}
else
    return Json(new { message = "There is an error while saving comment. Please try again later" });
</pre>

<p>As I require it to run only once I just have queue it using the <code>BackgroundJob.Enqueue()</code> method. I can also delay the execution of the job using the <code>Schedule</code> method of the <code>BackgroundJob</code> class.</p>

<pre class="brush: csharp">
bool commentSave = _db.AddComment(comment);
if (commentSave)
{
    BackgroundJob.Schedule(() => BlogEmail.SendEmail(comment), TimeSpan.FromMinutes(60));
    return Json(new { message = "Thanks for your comment. The comment is now awaiting moderation" });
}
else
    return Json(new { message = "There is an error while saving comment. Please try again later" });
</pre>

<p>What if the email sending is failed? The <code>SendMail</code> method throws an exception that the mail sending is failed. HangFire will handle this by default and it will retry automatically 3 more times after a consecutive delay after each retry. But if I want to retry it more than 3 times then I can make use of the <code>AutomaticRetry</code> attribute and pass the number of retries I want, something like this:</p>

<pre class="brush: csharp">
[AutomaticRetry(Attempts = 5)]
public bool SendEmail(Comment comment)
{
    //Email code
}
</pre>

<p>Let&rsquo;s say if I do have another method that I want to run every minute (it&rsquo;s an overkill for my blog) then I will make use of <code>RecurringJob</code> class.</p>

<pre class="brush: csharp">
RecurringJob.AddOrUpdate(() => Storage.PunchIt(), Cron.Minutely);
</pre>

<p><code>Cron</code> enum allows me to schedule a job daily, weekly, monthly, yearly, hourly and minutely. Now as my job is schedule in the background, time to take a look at HangFire monitor.</p>

<p><img src="/images/recurring-jobs.png" alt="Recurring Jobs in HangFire" /></p>

<p><img src="/images/succeeded-jobs.png" alt="Succeeded Jobs in HangFire" /></p>

<p>I have no idea why my Recurring Jobs screen is showing Next and Last execution time as 44 years ago. But you can see the Succeeded Jobs with a minute interval (#5 and #4). HangFire uses persistent storage and therefore you can trigger the job at your will or remove it when you feel like it. That means you configure the job in the code and manage it from the HangFire monitor.</p>

<h4 id="what-else-you-can-do-with-hangfire">What else you can do with HangFire</h4>

<p>I just showed you how easy it can be scheduling jobs using HangFire. But there are more advanced topics which you should be looking into for more complex implementation. HangFire supports logging, dependency injection using Ninject, multiple queue processing and more.</p>

<h4 id="references">References</h4>

<ul>
<li><a href="https://github.com/odinserj/HangFire">HangFire - Github</a></li>
<li><a href="http://hangfire.io/">HangFire.io - Offical site</a></li>
<li><a href="http://docs.hangfire.io/en/latest/advfeatures.html">HangFire - Advance Features</a></li>
<li><a href="http://docs.hangfire.io/en/latest/quickstart.html">HangFire - Quick Start</a></li>
<li><a href="https://www.nuget.org/packages?q=hangfire">NuGet - HangFire libraries</a></li>
</ul>

  </div>
  
</div>


<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/5/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/5/">5</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/6/">6</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/7/">7</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/34/">34</a></li>
    
    
    <li class="page-item">
    <a href="/page/7/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/34/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>


        </div>
        



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-QYXJT2TJCG', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"
  integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy"
  crossorigin="anonymous">
</script>

<link
  href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCore.min.css"
  rel="stylesheet"
/>
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shThemeDefault.min.css"
  rel="stylesheet"
/>

<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCSharp.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCss.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPlain.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushSql.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushXml.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPowerShell.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushPython.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushBash.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushCpp.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushRuby.min.js"
></script>

<script>
  SyntaxHighlighter.defaults["gutter"] = true;
  SyntaxHighlighter.defaults["smart-tabs"] = true;
  SyntaxHighlighter.defaults["auto-links"] = true;
  SyntaxHighlighter.defaults["collapse"] = false;
  SyntaxHighlighter.defaults["light"] = false;
  SyntaxHighlighter.defaults["tab-size"] = 4;
  SyntaxHighlighter.defaults["toolbar"] = false;
  SyntaxHighlighter.defaults["wrap-lines"] = true;
  SyntaxHighlighter.all();
</script>


    </body>
</html>
